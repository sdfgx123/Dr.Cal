<div align=center>

![logo](https://github.com/MINI-TEAM3/mini3-server/assets/128345842/b31a2646-1182-45ef-9bac-7f2c4e6859e9)

# [🏥 닥터캘 (Dr.Cal)](https://drcal.netlify.app)
**닥터캘을 누르면 배포된 사이트로 이동합니다**
### [👩‍👩‍👧 Front-End Repository](https://github.com/MINI-TEAM3/client)
### [🌐 Dr.Cal(admin)](https://drcal-admin.netlify.app)

**``` 회원가입 요청 승인 외에는 사용을 자제해 주세요 ```**

|서울대학교 병원|연세 세브란스 병원|고려대학교 안암병원|
|:----:|:----:|:----:|
|admin@doctorcal.com|admin2@doctorcal.com|admin3@doctorcal.com|
|12345678|12345678|12345678|

### 🎞️ 프로젝트 시연 영상

[![Video Label](http://img.youtube.com/vi/-bGH_dDcfH8/0.jpg)](https://youtu.be/-bGH_dDcfH8?si=zWJW0cSp2CfjvPSj)

</div>
<br><br>

## 🗓️ 프로젝트 소개
> **개요** : 대학병원 의사들을 위한 쉽고 빠른 당직, 연차 관리 서비스입니다. <br/>
> **기간** : 2023. 07. 24. ~ 2023. 08. 11. <br/>
> **기타** : 패스트캠퍼스 부트캠프의 프론트엔드&백엔드 미니프로젝트 협업으로 만들어진 서비스입니다. <br/>

<p align=center>
<img src="https://img.shields.io/github/issues/MINI-TEAM3/mini3-server?style=flat"/>
<img src="https://img.shields.io/github/issues-closed/MINI-TEAM3/mini3-server?style=flat"/>
<img src="https://img.shields.io/github/last-commit/MINI-TEAM3/mini3-server?style=flat"/>
</p>
<br><br>

## 👤 프로젝트 팀원
|                                          **[송태형](https://github.com/Ussu1112) (팀장)**                                          |                                             **[송정호](https://github.com/sdfgx123)**                                             |                                             **[최해솔](https://github.com/atsunsetree)**                                              |                                           **[김준희](https://github.com/dev-junehee) (팀장)**                                           |                                             **[김다슬](https://github.com/7581058)**                                              |                                             **[임승이](https://github.com/doitidey)**                                              |
|:-----------------------------------------------------------------------------------------------------------------------------:|:------------------------------------------------------------------------------------------------------------------------------:|:----------------------------------------------------------------------------------------------------------------------------------:|:----------------------------------------------------------------------------------------------------------------------------------:|:------------------------------------------------------------------------------------------------------------------------------:|:-------------------------------------------------------------------------------------------------------------------------------:|
|                                                              BE                                                               |                                                            BE                                                             |                                                              BE                                                               |                                                                 FE                                                                 |                                                               FE                                                               |                                                               FE                                                                |
| <a href="https://github.com/Ussu1112"><img src="https://avatars.githubusercontent.com/u/42778315?v=4" width=150px alt="송태형"/> | <a href="https://github.com/sdfgx123"><img src="https://avatars.githubusercontent.com/u/64997246?v=4" width=150px alt="송정호" /> | <a href="https://github.com/atsunsetree"><img src="https://avatars.githubusercontent.com/u/128345842?v=4" width=150px alt="최해솔" /> | <a href="https://github.com/dev-junehee"><img src="https://avatars.githubusercontent.com/u/116873887?v=4" width=150px alt="김준희" /> | <a href="https://github.com/7581058"><img src="https://avatars.githubusercontent.com/u/100559990?v=4" width=150px alt="김다슬" /> | <a href="https://github.com/doitidey"><img src="https://avatars.githubusercontent.com/u/128357188?v=4" width=150px alt="임승이" /> |
<br>

## 🪧 역할 분담

| 송정호  |          송태형(팀장)           |   최해솔    |
|:----------------------:|:----------------------:|:----------------------:|
| DB 관리 </br> AWS 배포 </br> 테이블 설계 </br> User 관련 API 담당 </br> - 회원가입 </br> - 로그인, 로그아웃 </br> - 개인정보 조회 </br> - 개인정보 수정 </br>- 비밀번호 변경 | 테이블 설계 </br> Admin 관련 API 담당 </br> - 사용자 관리 </br> - 회원가입 승인, 요청 리스트 조회 </br> - 유저 권한, 재직 상태 수정 </br> - 당직, 연차 요청 리스트 조회 </br> - 당직, 연차 승인/반려 처리 </br> - 병원 리스트 조회 </br> - 병원별 과(파트), 의사 조회 </br> - 관리자 당직 추가/삭제 </br> | 테이블 설계 </br> Calendar 관련 API 담당 </br> - 도메인 설계 </br> - 메인 캘린더 조회 </br> - 연차 등록  </br> - 연차 수정  </br> - 연차 삭제 |

<br></br>

## 🛠️️ 사용기술 및 개발환경

**Back-End** 
<p>

![Java](https://img.shields.io/badge/java11-007396?style=flat&logo=java&logoColor=white)
![SpringBoot](https://img.shields.io/badge/SpringBoot-6DB33F?style=flat&logo=springboot&logoColor=white)
![Spring Security](https://img.shields.io/badge/Spring_Security-6DB33F?style=flat&logo=springsecurity&logoColor=white)
![MySQL](https://img.shields.io/badge/MySQL-4479A1?style=flat&logo=mysql&logoColor=white)
![Gradle](https://img.shields.io/badge/Gradle-02303A?style=flat&logo=gradle&logoColor=white)
![JPA](https://img.shields.io/badge/JPA-527FFF?style=flat&logo=java&logoColor=white)
![IntelliJ IDEA](https://img.shields.io/badge/IntelliJ_IDEA-000000?style=flat&logo=intellijidea&logoColor=white)
</p>

**Front-End**
<p>
<img src="https://img.shields.io/badge/React-61DAFB?style=flat&logo=React&logoColor=white" />
<img src="https://img.shields.io/badge/TypeScript-3178C6?style=flat&logo=TypeScript&logoColor=white" />
<img src="https://img.shields.io/badge/styledcomponents-DB7093?style=flat&logo=styledcomponents&logoColor=white" />
<img src="https://img.shields.io/badge/Chart.js-FF6384?style=flat&logo=chartdotjs&logoColor=white" />
<img src="https://img.shields.io/badge/Ant Design-0170FE?style=flat&logo=antdesign&logoColor=white" />
<img src="https://img.shields.io/badge/Zustand-000000?style=flat&logo=Zustand&logoColor=white" />
</p>

**Deployment**
<p>

![AWS](https://img.shields.io/badge/AWS-232F3E?style=flat&logo=amazonaws&logoColor=white)
![Amazon Ec2](https://img.shields.io/badge/AWS_EC2-FF9900?style=flat&logo=amazonec2&logoColor=white)
</p>

**Cowork Tools**
<p>

![Slack](https://img.shields.io/badge/Slack-4A154B?style=flat&logo=Slack&logoColor=white)
![Notion](https://img.shields.io/badge/Notion-000000?style=flat&logo=Notion&logoColor=white)
![Zoom](https://img.shields.io/badge/Zoom-2D8CFF?style=flat&logo=Zoom&logoColor=white)
![Figma](https://img.shields.io/badge/Figma-F24E1E?style=flat&logo=figma&logoColor=white)
![GitHub](https://img.shields.io/badge/GitHub-181717?style=flat&logo=GitHub&logoColor=white)

</p> <br></br>

## 🖥️ 기능 소개
#### 1. User
| 회원가입 |  로그인  |
|:----:|:-----:|
|<img src="https://github.com/MINI-TEAM3/mini3-server/assets/128345842/5faf710e-7299-4233-9dcb-35215189ca62" width=600/>|<img src="https://github.com/MINI-TEAM3/mini3-server/assets/128345842/4e42e628-31d6-41ba-b781-9c80824d7097" width=600/>|

<br>

|마이페이지|비밀번호 변경|
|:-----:|:-----:|
|<img src="https://github.com/MINI-TEAM3/mini3-server/assets/128345842/de97bd80-9289-416d-a13f-f2d6614f8535" width=600/>|<img src="https://github.com/MINI-TEAM3/mini3-server/assets/128345842/c2edced4-2ab5-4ec0-9f23-6b4c0334006a" width=600/>|

<br></br>

#### 2. Schedule
| 메인캘린더 (당직, 휴가조회) | 당직 변경 |
|:---------------------:|:-----:|
|<img src="https://github.com/MINI-TEAM3/mini3-server/assets/128345842/6dc8ae39-ded3-4a8d-a13b-5d894d63bc51" width=600/>|<img src="https://github.com/MINI-TEAM3/mini3-server/assets/128345842/ee680092-f7f3-4084-9523-6ec3bd083a5f" width=600/>|

<br>

|연차 신청|연차 신청 내역 수정/삭제|
|:-----:|:-------:|
|<img src="https://github.com/MINI-TEAM3/mini3-server/assets/128345842/d64ad8c1-a633-4ba3-b346-e627814b3f4d" width=600/>|<img src="https://github.com/MINI-TEAM3/mini3-server/assets/128345842/6dcf044a-31df-4e70-b34a-50e00edb0197" width=600/>|

<br></br>

#### 3. Admin
| 회원 권한 수정 |  재직 상태 수정 | 연차 승인/반려 |
|:--------:|:-----:|:--------:|
|<img src="https://github.com/MINI-TEAM3/mini3-server/assets/128345842/256b4b44-0520-44c8-b885-77a4dbb254fb" width=400/>|<img src="https://github.com/MINI-TEAM3/mini3-server/assets/128345842/a810b65d-830b-4658-9a8f-64bd7247f536" width=400/>|<img src="https://github.com/MINI-TEAM3/mini3-server/assets/128345842/9a8a75a7-da95-4d63-8b6c-2f3d1ea13bc1" width=400/>|

<br>

| 당직 일정 교환 | 당직 등록/삭제 |
|:-----:|:-----:|
|<img src="https://github.com/MINI-TEAM3/mini3-server/assets/128345842/74125bb4-d765-466c-af5a-0241c701118f" width=600/>|<img src="https://github.com/MINI-TEAM3/mini3-server/assets/128345842/8bf5fa31-076a-42d5-aada-8ec0d0e0abe8" width=600/>|

<br></br>

## ⚙️ 프로젝트 설정
### 1️⃣ ERD
![image](https://github.com/MINI-TEAM3/mini3-server/assets/128345842/36976315-a826-42a0-a153-c065b4a01ff7)
<br>
### 2️⃣ 테이블 설계
```sql
CREATE TABLE user_tb (
  id BIGINT PRIMARY KEY AUTO_INCREMENT,
  emp_no INT,
  name VARCHAR(20) NOT NULL,
  email VARCHAR(40) NOT NULL UNIQUE,
  password VARCHAR(120) NOT NULL,
  phone VARCHAR(11),
  hospital_id BIGINT NOT NULL,
  dept_id BIGINT NOT NULL,
  level ENUM('PK', 'INTERN', 'RESIDENT', 'FELLOW') NOT NULL,
  auth ENUM('USER', 'ADMIN') NOT NULL,
  status ENUM('NOTAPPROVED', 'APPROVED', 'RETIRED') NOT NULL,
  annual INT,
  duty INT,
  profile_image_url VARCHAR(255),
  hiredate TIMESTAMP,
  resigneddate TIMESTAMP,
  created_at TIMESTAMP,
  updated_at TIMESTAMP
);

CREATE TABLE schedule_tb (
  id BIGINT PRIMARY KEY AUTO_INCREMENT,
  user_id BIGINT NOT NULL,
  hospital_id BIGINT NOT NULL,
  category ENUM('ANNUAL', 'DUTY') NOT NULL,
  start_date TIMESTAMP NOT NULL,
  end_date TIMESTAMP NOT NULL,
  is_validated ENUM('STANDBY', 'APPROVED', 'REJECTED') NOT NULL,
  reason VARCHAR(255),
  created_at TIMESTAMP,
  updated_at TIMESTAMP
);

CREATE TABLE hospital_tb (
  id BIGINT PRIMARY KEY AUTO_INCREMENT,
  name VARCHAR(20),
  created_at TIMESTAMP,
  updated_at TIMESTAMP
);

CREATE TABLE dept_tb (
  id BIGINT PRIMARY KEY AUTO_INCREMENT,
  hospital_id BIGINT,
  name VARCHAR(20),
  created_at TIMESTAMP,
  updated_at TIMESTAMP
);

ALTER TABLE user_tb ADD FOREIGN KEY (hospital_id) REFERENCES hospital_tb(id);
ALTER TABLE user_tb ADD FOREIGN KEY (dept_id) REFERENCES dept_tb(id);
ALTER TABLE schedule_tb ADD FOREIGN KEY (user_id) REFERENCES user_tb(id);
ALTER TABLE schedule_tb ADD FOREIGN KEY (hospital_id) REFERENCES hospital_tb(id);
ALTER TABLE dept_tb ADD FOREIGN KEY (hospital_id) REFERENCES hospital_tb(id);
```
### 3️⃣ 패키지 구조
```markdown
📦 src
└─ main
   └─ java
      └─ com
         └─ fc
            └─ miniserver
               ├─ _core
               │  ├─ handler
               │  │  └─ exception
               │  ├─ security
               │  └─ util
               ├─ domain
               │  ├─ User.java
               │  ├─ Schedule.java
               │  ├─ Hospital.java
               │  ├─ Dept.java
               │  ├─ History.java
               │  └─ etc Enum ...
               ├─ controller
               ├─ service
               ├─ repository
               ├─ dto
               └─ Mini3ServerApplication.java
```
<br></br>

## 📝 API 명세서
<p>
<img width="715" alt="스크린샷 2023-08-10 오후 9 39 14" src="https://github.com/MINI-TEAM3/mini3-server/assets/128345842/c8ba70c7-9696-49b2-9bc5-5d5fb0e71001">
<img width="703" alt="스크린샷 2023-08-10 오후 9 45 57" src="https://github.com/MINI-TEAM3/mini3-server/assets/128345842/e2387de8-8e32-48ad-837d-e60522a54ae0">

</p>
